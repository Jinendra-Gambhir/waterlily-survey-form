{"ast":null,"code":"useEffect(() => {\n  const fetchQuestions = async () => {\n    try {\n      const res = await api.get(\"/questions\");\n      const raw = res.data;\n      const deduplicated = {\n        demographic: [],\n        health: [],\n        financial: []\n      };\n      const seenIds = new Set();\n      for (const category of tabs) {\n        for (const q of raw[category]) {\n          if (!seenIds.has(q.id)) {\n            deduplicated[category].push(q);\n            seenIds.add(q.id);\n          }\n        }\n      }\n      setQuestions(deduplicated);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load survey questions\");\n    }\n  };\n  fetchQuestions();\n}, []);","map":{"version":3,"names":["useEffect","fetchQuestions","res","api","get","raw","data","deduplicated","demographic","health","financial","seenIds","Set","category","tabs","q","has","id","push","add","setQuestions","err","console","error","setError"],"sources":["E:/waterlily_Survey_Form/frontend/src/pages/Survey.tsx"],"sourcesContent":["useEffect(() => {\r\n  const fetchQuestions = async () => {\r\n    try {\r\n      const res = await api.get(\"/questions\");\r\n      const raw = res.data;\r\n\r\n      const deduplicated: GroupedQuestions = {\r\n        demographic: [],\r\n        health: [],\r\n        financial: [],\r\n      };\r\n\r\n      const seenIds = new Set();\r\n\r\n      for (const category of tabs) {\r\n        for (const q of raw[category]) {\r\n          if (!seenIds.has(q.id)) {\r\n            deduplicated[category].push(q);\r\n            seenIds.add(q.id);\r\n          }\r\n        }\r\n      }\r\n\r\n      setQuestions(deduplicated);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Failed to load survey questions\");\r\n    }\r\n  };\r\n  fetchQuestions();\r\n}, []);\r\n"],"mappings":"AAAAA,SAAS,CAAC,MAAM;EACd,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,GAAG,CAACC,GAAG,CAAC,YAAY,CAAC;MACvC,MAAMC,GAAG,GAAGH,GAAG,CAACI,IAAI;MAEpB,MAAMC,YAA8B,GAAG;QACrCC,WAAW,EAAE,EAAE;QACfC,MAAM,EAAE,EAAE;QACVC,SAAS,EAAE;MACb,CAAC;MAED,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC;MAEzB,KAAK,MAAMC,QAAQ,IAAIC,IAAI,EAAE;QAC3B,KAAK,MAAMC,CAAC,IAAIV,GAAG,CAACQ,QAAQ,CAAC,EAAE;UAC7B,IAAI,CAACF,OAAO,CAACK,GAAG,CAACD,CAAC,CAACE,EAAE,CAAC,EAAE;YACtBV,YAAY,CAACM,QAAQ,CAAC,CAACK,IAAI,CAACH,CAAC,CAAC;YAC9BJ,OAAO,CAACQ,GAAG,CAACJ,CAAC,CAACE,EAAE,CAAC;UACnB;QACF;MACF;MAEAG,YAAY,CAACb,YAAY,CAAC;IAC5B,CAAC,CAAC,OAAOc,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBG,QAAQ,CAAC,iCAAiC,CAAC;IAC7C;EACF,CAAC;EACDvB,cAAc,CAAC,CAAC;AAClB,CAAC,EAAE,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}